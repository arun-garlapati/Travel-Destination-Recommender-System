"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1068],{41068:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var i=n(57437),l=n(62167),r=n(65320),s=n(16691),a=n.n(s),o=n(61396),d=n.n(o),c=n(24033),u=n(22635),h=n(21677),m=n(1416),x=n(2836);function f(e){let{setShowAuthModal:t}=(0,m.f)();return(0,i.jsx)("button",{...e,onClick:()=>{t(!0),(0,x.Ae)()},children:"Sign In"})}var g=n(210),p=n(2265),w=n(65050),v=n(79633),b=n(42075);function j(e){let{children:t,content:n,align:l="center",openPopover:r,setOpenPopover:s}=e,{isMobile:a}=(0,b.Z)();return a?(0,i.jsxs)(v.d.Root,{open:r,onOpenChange:s,children:[(0,i.jsx)("div",{children:t}),(0,i.jsx)(v.d.Overlay,{className:"fixed inset-0 z-40 bg-gray-100 bg-opacity-10 backdrop-blur"}),(0,i.jsxs)(v.d.Portal,{children:[(0,i.jsxs)(v.d.Content,{className:"fixed bottom-0 left-0 right-0 z-50 mt-24 rounded-t-[10px] border-t border-gray-200 bg-white",children:[(0,i.jsx)("div",{className:"sticky top-0 z-20 flex w-full items-center justify-center rounded-t-[10px] bg-inherit",children:(0,i.jsx)("div",{className:"my-3 h-1 w-12 rounded-full bg-gray-300"})}),(0,i.jsx)("div",{className:"flex min-h-[150px] w-full items-center justify-center overflow-hidden bg-white pb-8 align-middle shadow-xl",children:n})]}),(0,i.jsx)(v.d.Overlay,{})]})]}):(0,i.jsxs)(w.fC,{open:r,onOpenChange:s,children:[(0,i.jsx)(w.xz,{className:"hidden sm:inline-flex",asChild:!0,children:t}),(0,i.jsx)(w.h_,{children:(0,i.jsx)(w.VY,{sideOffset:8,align:l,className:"animate-slide-up-fade z-50 hidden items-center rounded-md border border-gray-200 bg-white drop-shadow-lg sm:block",children:n})})]})}var y=n(71157);function N(e){let{session:t}=e,{email:n,image:l,name:r}=(null==t?void 0:t.user)||{},[s,a]=(0,p.useState)(!1),{tailwindSM:o}=(0,b.Z)();return n?(0,i.jsx)(j,{content:(0,i.jsxs)("div",{className:"w-full rounded-md border border-solid border-transparent bg-white p-2 md:w-56 md:border-gray-200",children:[(0,i.jsxs)("div",{className:"mb-5 p-2 md:mb-2",children:[r&&(0,i.jsx)("p",{className:"truncate text-sm font-medium text-gray-900",children:r}),(0,i.jsx)("p",{className:"truncate text-sm text-gray-500",children:n})]}),(0,i.jsxs)("ul",{className:"flex flex-col gap-3 md:gap-0",children:[(0,i.jsx)("li",{children:(0,i.jsx)(d(),{href:"/trips",className:"relative flex w-full items-center justify-start space-x-2 rounded-md p-2 text-left text-sm transition-all duration-75 hover:bg-gray-100",children:"My Trips ✈️"})}),(0,i.jsx)("li",{className:"relative flex w-full items-center justify-start space-x-2 rounded-md p-2 text-left text-sm transition-all duration-75 hover:bg-gray-100 md:hidden",children:(0,i.jsx)(d(),{href:"/".concat(y.B.PUBLIC_TRIPS),children:"Community Trips"})}),(0,i.jsx)("li",{children:(0,i.jsx)(d(),{href:"/settings",className:"relative flex w-full items-center justify-start space-x-2 rounded-md p-2 text-left text-sm transition-all duration-75 hover:bg-gray-100",children:"Settings"})}),(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"relative flex w-full items-center justify-start space-x-2 rounded-md p-2 text-left text-sm transition-all duration-75 hover:bg-gray-100",onClick:()=>{(0,u.w7)(),(0,c.redirect)("/")},children:(0,i.jsx)("p",{className:"text-sm",children:"Logout"})})})]})]}),align:"end",openPopover:s,setOpenPopover:a,children:o?(0,i.jsx)("button",{onClick:()=>a(!s),className:"flex h-8 w-8 items-center justify-center overflow-hidden rounded-full border border-gray-300 transition-all duration-75 focus:outline-none active:scale-95",children:(0,i.jsx)(g.Z,{alt:n,src:null!=l?l:""})}):(0,i.jsx)("button",{onClick:()=>a(!s),className:"rounded-full border border-solid border-gray-200 p-1 text-xl",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 8h16M4 16h16"})})})}):null}function C(e){let{data:t,status:n}=(0,u.kP)();return(0,i.jsx)("div",{className:"flex items-center justify-center",children:"loading"===n?(0,i.jsx)(h.Z,{variant:"circular",width:32,height:32}):t&&"authenticated"===n?(0,i.jsx)(N,{session:t}):(0,i.jsx)(f,{...e})})}var k=n(68937);function I(e){let{push:t}=(0,c.useRouter)();return(0,i.jsx)(r.E.button,{...e,layout:!0,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring"},onClick:n=>{t("/".concat(y.B.NEW_TRIP)),e.onClick&&e.onClick(n)},children:e.children})}function T(e){let[t,n]=(0,p.useState)(!1),i=(0,p.useCallback)(()=>{n(window.pageYOffset>e)},[e]);return(0,p.useEffect)(()=>(window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)),[i]),t}var S=n(83247);function E(){let e=(0,c.usePathname)(),[t]=(0,S.Z)("temporalId",null),{data:n}=(0,u.kP)(),s=e===y.B.LANDING,o=T(50),h=T(300),m=T(350),f=h&&s;return(0,i.jsxs)(i.Fragment,{children:[s&&(0,i.jsx)(r.E.div,{initial:{y:100},animate:{y:m?0:100},transition:{type:"spring"},className:"fixed bottom-4 left-0 right-0 z-[90] flex justify-center md:hidden",children:(0,i.jsxs)(I,{onClick:()=>(0,x.gR)(),className:"flex w-fit items-center gap-2 rounded-full bg-accent-green px-3 py-2 text-white shadow-md",children:[(0,i.jsx)(k.default,{icon:"bx:trip",className:"mb-1 text-xl"}),"Create a new trip"]})}),(0,i.jsx)("div",{className:"fixed top-0 flex w-full items-center justify-center ".concat(o?"border-b border-gray-200 bg-white shadow-sm":""," ").concat(s?"":"border-b border-gray-200 bg-white shadow-sm"," z-50 transition-all"),children:(0,i.jsxs)("div",{className:"mx-5 flex h-14 w-full max-w-screen-xl items-center justify-between md:h-16",children:[(0,i.jsxs)("div",{className:"flex gap-5",children:[(0,i.jsxs)(d(),{href:n||t&&"null"!==t?y.B.TRIPS:y.B.LANDING,className:"font-display flex items-center text-2xl",children:[(0,i.jsx)(a(),{src:"/logo/logo.webp",alt:"Trip Planner AI Logo",width:29,height:29,className:"mr-2 rounded-sm"}),(0,i.jsx)("h1",{className:"text-base/7 font-medium md:text-xl/8",children:"Trip Planner AI"})]}),(0,i.jsx)(d(),{href:"/".concat(y.B.PUBLIC_TRIPS),onClick:()=>(0,x.Wu)(),className:" cursor-pointer rounded-full px-4 py-1.5 hover:bg-gray-100 ".concat(s?"hidden":"hidden md:block"),children:"Community Trips"})]}),(0,i.jsx)(l.M,{mode:"popLayout",children:(0,i.jsxs)("ul",{className:"ml-5 flex gap-2",children:[(0,i.jsx)(r.E.li,{layout:!0,animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring"},className:"cursor-pointer rounded-full px-4 py-1.5 hover:bg-gray-100 ".concat(s?"hidden md:block":"hidden"),children:(0,i.jsx)(d(),{href:"/".concat(y.B.PUBLIC_TRIPS),onClick:()=>(0,x.Wu)(),children:"Community Trips"})}),(0,i.jsx)(r.E.li,{layout:!0,animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring"},children:(0,i.jsx)(C,{className:"h-fit cursor-pointer rounded-full bg-black px-4 py-1.5 text-sm transition-colors md:text-base ".concat(f?"bg-gray-100 text-black hover:bg-black hover:text-white md:bg-white":"text-white hover:bg-accent-green-2")})}),f&&(0,i.jsxs)(I,{onClick:()=>(0,x.UI)(),className:"ml-4 hidden h-fit cursor-pointer items-center gap-2 rounded-full bg-accent-green px-4 py-1.5 text-white transition-colors hover:bg-accent-green-2 md:flex",children:[(0,i.jsx)(k.default,{icon:"bx:trip",className:"mb-1"}),"Create a new trip"]})]})})]})})]})}},68937:function(e,t,n){n.r(t),n.d(t,{default:function(){return r}});var i=n(57437),l=n(39830);function r(e){return(0,i.jsx)(l.JO,{icon:e.icon,...e})}},71157:function(e,t,n){var i,l,r,s;n.d(t,{B:function(){return l},I:function(){return i}}),(r=i||(i={})).DELETE_ACCOUNT="delete-account",r.TRIPS="trips",r.CREATE_TRIP="new-trip",r.MEALS="meals",r.HOTEL="hotel",r.HOTELS="hotels",r.SIGHTS="sights",r.EXPLORE_SIGHTS="explore-sights",r.NOMAD="nomad",(s=l||(l={})).LANDING="/",s.TRIPS="trips",s.NEW_TRIP="new-trip",s.PUBLIC_TRIPS="public-trips",s.DESTINATIONS="destinations",s.TERMS_AND_CONDITIONS="terms",s.PRIVACY_POLICY="privacy",s.COOKIES_POLICY="cookies"},83247:function(e,t,n){var i=n(2265);t.Z=(e,t)=>{let[n,l]=(0,i.useState)(t);return(0,i.useEffect)(()=>{let t=window.localStorage.getItem(e);t&&l("string"==typeof t?t:JSON.parse(t))},[e]),[n,t=>{l(t),window.localStorage.setItem(e,JSON.stringify(t))}]}},42075:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(2265);function l(){var e,t,n,l,r,s,a;let[o,d]=(0,i.useState)(null),[c,u]=(0,i.useState)(null);return(0,i.useEffect)(()=>{u({width:window.innerWidth,height:window.innerHeight});let e=()=>{window.matchMedia("(max-width: 640px)").matches?d("mobile"):window.matchMedia("(min-width: 641px) and (max-width: 1024px)").matches?d("tablet"):d("desktop"),u({width:window.innerWidth,height:window.innerHeight})};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),{device:o,width:null!==(e=null==c?void 0:c.width)&&void 0!==e?e:0,height:null!==(t=null==c?void 0:c.height)&&void 0!==t?t:0,isMobile:"mobile"===o,isTablet:"tablet"===o,isDesktop:"desktop"===o,tailwindMD:(null!==(n=null==c?void 0:c.width)&&void 0!==n?n:0)>=720,tailwindSM:(null!==(l=null==c?void 0:c.width)&&void 0!==l?l:0)>=540,tailwindLG:(null!==(r=null==c?void 0:c.width)&&void 0!==r?r:0)>=1024,tailwindXL:(null!==(s=null==c?void 0:c.width)&&void 0!==s?s:0)>=1280,tailwind2XL:(null!==(a=null==c?void 0:c.width)&&void 0!==a?a:0)>=1536}}},1416:function(e,t,n){n.d(t,{f:function(){return l}});var i=n(94660);let l=(0,i.Ue)(e=>({showAuthModal:!1,setShowAuthModal:t=>{e({showAuthModal:t})}}))},86222:function(e,t,n){n.d(t,{Br:function(){return h},a$:function(){return s},iv:function(){return r},rR:function(){return u},t7:function(){return a}});var i=n(97131),l=n.n(i);let r=e=>{var t;return null==e?void 0:null===(t=e.destinations_summary)||void 0===t?void 0:t.map(e=>e.destination)},s=e=>{var t;return null==e?void 0:null===(t=e.destinations_summary)||void 0===t?void 0:t.map(e=>e.days).reduce((e,t)=>e+t,0)},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s={"Trip ID":t,Destination:n.length?n[0]:null,"Destinations Count":n.length,"Destination Idx":i,...r};(n.length?n.slice(1):[]).forEach((e,t)=>{s["Destination ".concat(t+1)]=e}),l().track(e,s)},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a("Timed Page View ".concat(e),t,[])},d=e=>{l().time_event("Timed Page Exit ".concat(e))},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a("Timed Page Exit ".concat(e),t,[])},u=e=>{o(e),d(e)},h=e=>{c(e)}},2836:function(e,t,n){n.d(t,{Ae:function(){return s},UI:function(){return a},Wu:function(){return o},gR:function(){return r}});var i=n(5551),l=n(86222);let r=()=>{(0,l.t7)("Landing New Trip Button Clicked",null,[],null),i.Z.event("landing-new-trip-button-clicked")},s=()=>{(0,l.t7)("Landing Sign In Button Clicked",null,[],null)},a=()=>{(0,l.t7)("Landing Start Planning Tab Clicked",null,[],null)},o=()=>{(0,l.t7)("Landing Community Trips Tab Clicked",null,[],null)}}}]);