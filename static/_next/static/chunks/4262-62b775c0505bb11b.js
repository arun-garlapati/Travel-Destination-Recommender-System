"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4262],{377:function(e,t,i){i.d(t,{I:function(){return n}}),i(15231),i(470);var n=(0,i(31162).$)("cf5b33c99461b061d3f67eb9dde2932ad23f3a16")},73710:function(e,t,i){i(15231),i(470);var n=i(31162);t.Z=(0,n.$)("b746038869500c53d25a69488ee626b98d7160d4")},28014:function(e,t,i){i.d(t,{X:function(){return n}}),i(15231),i(470);var n=(0,i(31162).$)("9c262f82bcc7c956fe475991e724bbcc04840f1f")},68937:function(e,t,i){i.r(t),i.d(t,{default:function(){return r}});var n=i(57437),l=i(39830);function r(e){return(0,n.jsx)(l.JO,{icon:e.icon,...e})}},63502:function(e,t,i){i.d(t,{Z:function(){return a}});var n=i(57437),l=i(65050),r=i(79633),o=i(42075);function a(e){let{trigger:t,children:i,align:a="start",openPopover:s,setOpenPopover:d,className:c}=e,{tailwindSM:u}=(0,o.Z)();return u?(0,n.jsxs)(l.fC,{open:s,onOpenChange:d,children:[(0,n.jsx)(l.xz,{className:"hidden sm:inline-flex",asChild:!0,onClick:e=>e.stopPropagation(),children:t}),(0,n.jsx)(l.h_,{children:(0,n.jsx)(l.VY,{sideOffset:8,align:a,className:"animate-slide-up-fade z-[106] hidden items-center rounded-md border border-gray-200 bg-white drop-shadow-lg sm:block",children:i})})]}):(0,n.jsxs)(r.d.Root,{open:s,onOpenChange:d,children:[(0,n.jsx)(r.d.Trigger,{onClick:e=>e.stopPropagation(),className:c,children:t}),(0,n.jsxs)(r.d.Portal,{children:[(0,n.jsx)(r.d.Overlay,{onClick:e=>{e.stopPropagation(),d(!1)},className:"fixed inset-0 z-[99] bg-black/40"}),(0,n.jsx)(r.d.Content,{className:"fixed bottom-0 left-0 right-0 z-[100] flex max-h-[96%] flex-col rounded-t-[10px] bg-white",children:(0,n.jsx)("div",{className:"flex w-full flex-col overflow-auto rounded-t-[10px]",children:i})}),(0,n.jsx)(r.d.Overlay,{})]})]})}},34864:function(e,t,i){i.d(t,{Z:function(){return u}});var n=i(57437),l=i(16691),r=i.n(l),o=i(61396),a=i.n(o),s=i(81663),d=i(28638),c=i(59787),u=e=>{var t;let{sightDetail:i,showDefault:l=!0,source:o,destinationIdx:u,trip:v}=e;if(!i)return null;let m=(0,c.Z)(v,u),{reservationOptions:h,hasOptions:p,manualLinks:x}=function(e,t,i,n){var l,r;let o=JSON.parse(JSON.stringify(null!==(r=t.reservation_options)&&void 0!==r?r:{}));null==o||delete o.tiqets;let a=(null===(l=Object.entries(null!=o?o:{}))||void 0===l?void 0:l.length)>0,s={getyourguide:{is_manual:!0,url:"https://www.getyourguide.com/s/?q=".concat(i,"&partner_id=XKQT9ML&cmp=reservation-options-").concat(n,"~").concat(e)},viator:{is_manual:!0,url:"https://www.viator.com/searchResults/all?text=".concat(i,"&pid=P00104500&mcid=42383&medium=link&campaign=reservation-options-").concat(n,"~").concat(e)}};return{manualLinks:s,reservationOptions:(()=>{let t={...o};return Object.keys(t).forEach(i=>{t[i].url=t[i].url.replace("campaign=tripid".concat(e),"campaign=reservation-options-".concat(n)).replace("cmp=trip_id:".concat(e),"cmp=reservation-options-".concat(n,"~").concat(e))}),t})(),hasOptions:a}}(v.id,i,m,o),g=p?h:x;return p||l?(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"flex ".concat("sights"===o?"gap-4":"gap-2"),children:null===(t=Object.entries(null!=g?g:{}))||void 0===t?void 0:t.map((e,t)=>{var i,l,c;let[m,h]=e,p=null==h?void 0:h.url.replace("tq_campaign=trip_id:".concat(null==v?void 0:v.id),"tq_campaign=reservation-options-".concat(null!=o?o:"activity-detail-card~".concat(v.id))).replace("cmp=trip_id:".concat(null==v?void 0:v.id),"&cmp=reservation-options-".concat(null!=o?o:"activity-detail-card~".concat(v.id)));return(0,n.jsx)(a(),{href:p,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 rounded-full border border-solid border-primary-green-2 bg-primary-green/40 px-3.5 py-1 text-sm text-black transition-transform hover:scale-110 hover:bg-primary-green/90"+("sights"===o?"":" px-2"),onClick:()=>{(0,d.lV)(m+"_activity_tour"+((null==h?void 0:h.is_manual)?"_manual":"")+("sights"===o?"sights":""),v,null,u)},children:(0,n.jsx)(r(),{src:"".concat(null===(i=s.m2[m])||void 0===i?void 0:i.icon),alt:null===(l=s.m2[m])||void 0===l?void 0:l.title,className:"w-auto ".concat((null===(c=s.m2[m])||void 0===c?void 0:c.title)==="Get Your Guide"?"h-2.5 md:h-3":"h-3.5 md:h-4"),width:400,height:400})},t)})})}):null}},23256:function(e,t,i){i.d(t,{Z:function(){return v}});var n=i(57437),l=i(72759),r=i(80504),o=i(44734),a=i(16856),s=i(24033),d=i(2265),c=i(86152);function u(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.filter(Boolean).join(" ")}function v(e){let{onChangeDestinationIdx:t,className:i,children:v}=e,{trip:m,currentDestinationIdx:h,setCurrentDestinationIdx:p}=(0,c.useTrip)(),x=(0,s.useRouter)(),g=(0,s.usePathname)(),f=(0,s.useSearchParams)(),b=(null==m?void 0:m.destinations.length)===1,y=f.get("city");return(0,n.jsx)(o.R,{disabled:b,value:h,onChange:e=>{p(e),t&&t(e);let i=new URLSearchParams(f);if(y){let t={name:null==m?void 0:m.destinations[e].destination.name,center:null==m?void 0:m.destinations[e].destination.center};i.set("city",JSON.stringify(t))}i.set("destination",e.toString()),x.replace("".concat(g,"?").concat(i.toString()))},children:e=>{let{open:t}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(o.R.Button,{className:i,onClick:e=>null==e?void 0:e.stopPropagation(),children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[v,!b&&(0,n.jsx)(r.G,{icon:l.ptq,className:"text-xs text-gray-400 md:text-base"})]})}),(0,n.jsx)(a.u,{show:t,as:d.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)(o.R.Options,{className:"absolute !z-[99] mt-1 max-h-56 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none xl:text-lg",children:null==m?void 0:m.destinations.map((e,t)=>(0,n.jsx)(o.R.Option,{className:e=>{let{active:t,selected:i}=e;return u(t?"bg-gray-200":"text-gray-900",i?"bg-gray-100":"","relative cursor-pointer select-none py-2")},value:t,children:t=>{let{selected:i,active:l}=t;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)("span",{className:u(i?"font-medium text-black":"font-normal text-gray-700","mx-3 block truncate"),children:null==e?void 0:e.destination_str})})})}},e.id))})})]})})}})}},16234:function(e,t,i){i.d(t,{JS:function(){return q},Jx:function(){return V},GI:function(){return H}});var n=i(57437),l=i(72759),r=i(80504),o=i(24033),a=i(85263);function s(){return(0,n.jsx)("div",{children:(0,n.jsx)(a.y1,{src:"/lotties/mapLoader.lottie",className:"w-[22rem]",autoplay:!0,loop:!0})})}i(27361);var d=i(65320),c=i(16691),u=i.n(c),v=i(2265),m=i(21412),h=i.n(m),p=i(34864),x=i(36012),g=i(34373),f=i(57924);function b(e){var t;let{isOpenGallery:i,closeGallery:l,location:r}=e;return(0,n.jsx)(g.Z,{open:i,closeModal:l,children:(0,n.jsx)(x.tv,{options:{rewind:!0,focus:"center",perPage:1,gap:2,width:"100%"},"aria-label":"My Favorite Images",children:null==r?void 0:null===(t=r.photos)||void 0===t?void 0:t.map((e,t)=>{var i;let r=(null==e?void 0:null===(i=e.photo_urls)||void 0===i?void 0:i.original)||e.url;return(0,f.S)(null==e?void 0:e.photo_urls)?(null==e?void 0:e.url)?(0,n.jsx)(x.jw,{onClick:e=>{var t;(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.localName)==="li"&&l()},children:(0,n.jsx)(u(),{src:r,alt:r,className:"mx-auto h-[60vh] w-fit rounded-lg md:h-[80vh]",width:e.width,height:e.height})},t):null:(0,n.jsx)(x.jw,{onClick:e=>{var t;(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.localName)==="li"&&l()},children:(0,n.jsx)(u(),{src:r,alt:r,className:"mx-auto h-[60vh] w-fit rounded-lg md:h-[80vh]",width:e.width,height:e.height})},t)})})})}var y=i(62),w=i(61396),j=i.n(w),N=i(28638);function S(e){var t,i,o,a,s,d,c,u,v;let{detail:m,trip:h,dayIdx:p,activityIdx:x}=e,{location:g}=m;return(0,n.jsxs)("div",{className:"mt-2 flex flex-wrap gap-3 md:mt-0",children:[(null==g?void 0:g.url)&&(0,n.jsx)(j(),{href:null===(t=m.location)||void 0===t?void 0:t.url,target:"_blank",onClick:()=>{(0,N.qf)(h,"".concat((null==g?void 0:g.types)?"Google Maps":"Foursquare"),p,x)},className:"flex cursor-pointer items-center gap-1.5 rounded-full border border-solid border-gray-300 px-3 py-1 text-sm hover:border-gray-400",children:g.types?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.G,{icon:y.xYR,className:"h-4 w-4"}),(0,n.jsx)("p",{children:"Maps"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.G,{icon:y.ppR}),(0,n.jsx)("p",{children:"Foursquare"})]})}),(null==g?void 0:g.website)&&(0,n.jsxs)(j(),{href:null===(i=m.location)||void 0===i?void 0:i.website,target:"_blank",onClick:()=>{(0,N.qf)(h,"Website",p,x)},className:"flex cursor-pointer items-center gap-1.5 rounded-full border border-solid border-gray-300 px-3 py-1 text-sm hover:border-gray-400",children:[(0,n.jsx)(r.G,{icon:l.g4A}),(0,n.jsx)("p",{children:"Website"})]}),((null==g?void 0:g.tel)||(null==m?void 0:null===(o=m.location)||void 0===o?void 0:o.international_phone_number))&&(0,n.jsxs)(j(),{href:"tel:".concat(null!==(u=null==m?void 0:null===(a=m.location)||void 0===a?void 0:a.tel)&&void 0!==u?u:null==m?void 0:null===(s=m.location)||void 0===s?void 0:s.international_phone_number),target:"_blank",onClick:()=>{(0,N.qf)(h,"Phone",p,x)},className:"flex cursor-pointer items-center gap-1.5 whitespace-nowrap rounded-full border border-solid border-gray-300 px-3 py-1 text-sm hover:border-gray-400",children:[(0,n.jsx)(r.G,{icon:l.j1w}),(0,n.jsx)("p",{children:null!==(v=null==m?void 0:null===(d=m.location)||void 0===d?void 0:d.tel)&&void 0!==v?v:null==m?void 0:null===(c=m.location)||void 0===c?void 0:c.international_phone_number})]})]})}function T(e){var t,i,l,r,o,a;let{getClosingTime:s,location:d}=e,{opensAt:c,closesAt:u}=s(null!==(a=null==d?void 0:null===(t=d.hours)||void 0===t?void 0:t.display)&&void 0!==a?a:""),v=(null==d?void 0:null===(i=d.hours)||void 0===i?void 0:i.open_now)||(null==d?void 0:null===(l=d.opening_hours)||void 0===l?void 0:l.open_now),m=(null==d?void 0:d.hours)&&(null==d?void 0:null===(r=d.hours)||void 0===r?void 0:r.display)||(null==d?void 0:d.opening_hours),h=null==d?void 0:null===(o=d.hours)||void 0===o?void 0:o.open_now,p=function(e){if(!e||!e.periods||0===e.periods.length)return{openAt:"00:00",closeAt:"00:00"};let t=e.periods[0],i=t.open?t.open.time.slice(0,2)+":"+t.open.time.slice(2):"00:00",n=t.close?t.close.time.slice(0,2)+":"+t.close.time.slice(2):"00:00";return{openAt:i,closeAt:n}}(null==d?void 0:d.opening_hours);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"mb-3 line-clamp-1 flex flex-wrap items-center gap-1 md:flex-nowrap",children:[h&&(0,n.jsx)("p",{className:"text-sm ".concat(v?"text-green-600":"text-red-600"," font-medium"),children:v?"Opened":"Closed"}),m&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-xl",children:"•"}),(0,n.jsxs)("p",{className:"line-clamp-1 text-sm text-black",children:[v?"Opens at":"Closes at"," ",v?null!=u?u:p.closeAt:null!=c?c:p.openAt]})]}),(null==d?void 0:d.categories)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-xl",children:"•"}),(0,n.jsx)("p",{className:"line-clamp-1 text-sm",children:Object.keys(null==d?void 0:d.categories)[0]})]})]})})}var k=i(13926),I=i(231),_=i(1911);function C(e){var t,i,o,a,s,c,m,x,g,f,y,w;let{trip:j}=e,{sightDetail:N,setSightDetail:k}=(0,I.useSightDetail)(),C=N.data,[A,E]=(0,v.useState)(!1),[P,O,M]=(0,_.Z)(!1),R=null==C?void 0:C.location,L=(null==R?void 0:R.photos)&&(null==R?void 0:R.photos.length)>0,F=(null==R?void 0:R.formatted_address)||(null==R?void 0:R.tel)||(null==R?void 0:R.website),G=!!(null==C?void 0:C.tips),z=null!==(g=null==C?void 0:null===(i=C.location)||void 0===i?void 0:null===(t=i.editorial_summary)||void 0===t?void 0:t.overview)&&void 0!==g?g:null==C?void 0:null===(o=C.location)||void 0===o?void 0:o.description;(0,v.useEffect)(()=>{if(C){let e=[];for(let t in null==R?void 0:R.categories)e.push(t)}},[]);let Z=()=>{k({data:null,activityIdx:"",dayIdx:null})};return(0,n.jsxs)(d.E.div,{className:"fixed bottom-3 z-[1000] w-full px-3 ".concat(h().className," use-font"),initial:{opacity:0,y:100},animate:{opacity:1,y:0},children:[(0,n.jsx)(b,{location:R,closeGallery:M,isOpenGallery:P}),!A&&(0,n.jsx)(d.E.button,{onClick:Z,initial:{opacity:0,y:40},animate:{opacity:1,y:0},className:"absolute -top-[2.5rem] right-4 h-8 w-8 rounded-full bg-white text-black shadow-2xl",children:(0,n.jsx)(r.G,{icon:l.g82})}),(0,n.jsxs)("div",{className:"FOURSQUARE relative h-[45vh] overflow-y-auto overflow-x-hidden rounded-2xl bg-white shadow-2xl transition-all md:h-[40vh]",children:[(0,n.jsxs)("header",{className:"absolute top-0  flex h-[2.5rem] w-full items-center justify-start gap-1 px-5 transition-all md:h-[3.2rem] ".concat(A?"z-[60] bg-[#000000a3] backdrop-blur-sm backdrop-filter":"z-[-1]"," rounded-t-2xl"),children:[A&&(0,n.jsx)("button",{className:"mr-2 flex h-7 w-7 items-center justify-center gap-1 rounded-full bg-gray-200 p-1 text-sm hover:bg-gray-300 md:text-base",onClick:Z,children:(0,n.jsx)(r.G,{icon:l.YIN,className:"text-sm text-gray-700 md:text-base"})}),C&&(0,n.jsx)("p",{className:"text-base text-white transition-all duration-300 ease-in-out lg:text-lg ".concat(A?"opacity-100":"translate-x-[100%] opacity-0"),children:C.place})]}),(0,n.jsx)("div",{className:"h-[100%] overflow-y-auto",onScroll:e=>{let t=e.target;t.scrollTop>0?E(!0):E(!1)},children:C&&(0,n.jsxs)("div",{className:"relative flex min-h-full flex-col gap-3 overflow-x-hidden overflow-y-hidden p-5 shadow-[10px_66px_21px_-4px_rgba(0,0,0,0.09)]",children:[(0,n.jsxs)("div",{className:"items-start gap-3",children:[L&&(0,n.jsxs)("button",{className:"group relative float-right mb-2 ml-5 block h-24 w-24 overflow-hidden rounded-lg",onClick:O,children:[(0,n.jsx)(u(),{src:null!==(w=null!==(y=null===(a=(null!==(f=null==R?void 0:R.photos)&&void 0!==f?f:[])[0])||void 0===a?void 0:a.url)&&void 0!==y?y:null==R?void 0:R.photos[0].photo_urls["480"])&&void 0!==w?w:"/shared/dummy-image.webp",alt:C.place,width:150,height:150,className:"absolute h-full w-full cursor-pointer rounded-lg bg-cover bg-center object-cover sm:mb-0 md:h-[7rem] md:w-[7.5rem]"}),(0,n.jsxs)("div",{className:"relative z-20 flex h-full w-full flex-col items-center justify-center gap-1 bg-[#0000006e] text-white opacity-0 group-hover:opacity-100",children:[(0,n.jsx)(r.G,{icon:l._jT,className:"text-base"}),(0,n.jsx)("span",{className:"hidden text-sm group-hover:block",children:"Photos"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,n.jsx)("h2",{className:"line-clamp-1 text-xl font-medium",children:C.place}),(null==C?void 0:null===(s=C.location)||void 0===s?void 0:s.formatted_address)&&(0,n.jsx)("p",{className:"flex items-center gap-1 text-sm text-gray-500 xl:text-base",children:(0,n.jsx)("span",{className:"line-clamp-1 text-sm",children:C.location.formatted_address})}),(0,n.jsx)(T,{getClosingTime:function(e){if(!e)return{opensAt:null,closesAt:null};e=e.replace("Open Daily ","");let[t,i]=e[0].split(","),[n,l]=e.split("-");return{weekDay:t,opensAt:n,closesAt:l,hours:i}},location:R})]}),!!z&&(0,n.jsx)("span",{className:"text-base",children:z})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"mb-2 text-base font-medium md:text-lg",children:"Booking options"}),(0,n.jsx)(p.Z,{sightDetail:C,trip:j,source:"activity-detail-card",destinationIdx:null==N?void 0:N.destinationIdx})]}),G&&(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsx)("h3",{className:"text-base font-medium md:text-lg",children:"Tips"}),(0,n.jsx)("ul",{className:"flex flex-col gap-1",children:(null==C?void 0:null===(c=C.tips)||void 0===c?void 0:c.split(";").map(e=>(0,n.jsxs)("li",{className:"ml-6 list-disc text-base",children:[e,"."]},e)))||[]})]}),F&&(0,n.jsx)("p",{className:"text-base font-medium md:text-lg",children:"Details"}),(0,n.jsx)("div",{className:"flex flex-col gap-2",children:(0,n.jsx)(S,{detail:C,trip:j,dayIdx:N.dayIdx,activityIdx:N.activityIdx})}),((null===(m=C.reservation_options)||void 0===m?void 0:m.getyourguide)||(null===(x=C.reservation_options)||void 0===x?void 0:x.tiqets))&&(0,n.jsx)(D,{trip:j,reservationOptions:[C.reservation_options.tiqets,C.reservation_options.getyourguide]})]})})]})]})}let D=e=>{let{reservationOptions:t,trip:i}=e;return(0,n.jsxs)("div",{className:"available-tours  ".concat(t?"mt-2":" mt-8 px-4 md:mt-12 md:px-12 "),children:[(0,n.jsx)("h3",{className:"mb-2 text-lg font-[500] md:mb-4 md:text-xl",children:t?"Reservation Options":"Interesting Tours & Tickets"}),(0,n.jsx)(k.Z,{trip:i,tourList:t,reservationOptions:t})]})};var A=i(41380);let E=e=>{var t;let{trip:i}=e;if((null==i?void 0:i.destinations.length)<=1||!i)return null;let a=(0,o.useRouter)(),s=(0,o.usePathname)(),d=(0,o.useSearchParams)(),{moveMapToLocation:c}=(0,A.useMapbox)(),u=parseInt(null!==(t=d.get("destination"))&&void 0!==t?t:"0");return(0,n.jsxs)("div",{className:"fixed left-2 top-2 z-[90] flex items-center gap-2.5 rounded-lg bg-white/90 px-2 py-1.5 shadow-lg",children:[(0,n.jsx)("button",{onClick:()=>{let e=null==i?void 0:i.destinations[u],t=e.destination.center;c([t[1],t[0]],!1,11,!1)},className:"grid h-7 w-7 place-items-center rounded-full bg-gray-200 text-gray-500 md:hover:bg-gray-300 md:hover:text-gray-700",children:(0,n.jsx)(r.G,{icon:l.TqS})}),(0,n.jsx)("div",{className:"flex items-center gap-1.5",children:null==i?void 0:i.destinations.map((e,t)=>{var l;return(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:"rounded-lg border border-solid border-gray-200 px-4 py-1 text-sm ".concat(u===t?"border-black bg-black text-white":"bg-white text-gray-500 hover:border-gray-400 hover:bg-gray-100 md:hover:border-gray-300 md:hover:text-gray-700"),onClick:()=>{let e=new URLSearchParams(d);e.set("destination",t.toString()),a.replace("".concat(s,"?").concat(e.toString())),(0,N.yR)(i,t,"map")},children:null==e?void 0:null===(l=e.destination_str)||void 0===l?void 0:l.split(",")[0]})},e.id)})})]})};var P=i(68937),O=i(23256),M=i(40108),R=i(86152),L=i(24268),F=i(71157),G=i(45443),z=i(67142);function Z(){let{trip:e,currentDestinationIdx:t}=(0,R.useTrip)();if(!e)return null;let i=(0,o.usePathname)(),{dayExpanded:a,setDayExpanded:s}=(0,M.useItinerary)(),{moveMapToLocation:d}=(0,A.useMapbox)(),c=(0,z.Z)(e,t),{destination:u,starting_date:v}=e.destinations[t],m=i.includes(F.I.HOTELS);return(0,n.jsx)("div",{className:"absolute z-[90] w-full max-w-full p-0 md:left-0 md:w-fit md:p-3 md:shadow-none ".concat(m?"hidden":""),children:(0,n.jsxs)("div",{className:"w-full max-w-full items-center gap-3 rounded-none border-b border-solid border-gray-300 bg-white px-2 py-3 shadow-lg md:w-fit md:rounded-md md:py-1.5 ".concat(e.destinations.length>1?"flex":"flex md:hidden"),children:[e.destinations.length>1&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>{let i=null==e?void 0:e.destinations[t],n=i.destination.center;d([n[1],n[0]],!1,11,!1)},className:"hidden h-7 min-w-[28px] place-items-center rounded-full bg-gray-200 text-gray-500 md:grid md:hover:bg-gray-300 md:hover:text-gray-700",children:(0,n.jsx)(r.G,{icon:l.TqS})}),(0,n.jsx)(O.Z,{onChangeDestinationIdx:()=>{s(null,t)},className:"max-w-[7rem] overflow-clip rounded-md border border-solid border-gray-200 px-3 py-1 md:max-w-full",children:(0,n.jsx)("span",{className:"overflow-clip whitespace-nowrap text-sm",children:u.city})})]}),(0,n.jsx)(x.tv,{hasTrack:!1,options:{drag:"free",gap:6,autoWidth:!0,autoHeight:!0,wheel:!0,pagination:!1,arrows:!1},"aria-label":"My Favorite Images",className:"md:hidden",children:(0,n.jsx)(x.Gj,{children:c.map((e,i)=>(0,n.jsx)(x.jw,{className:"",children:(0,n.jsxs)("button",{value:i,style:{borderTop:"".concat(a===i?"1px solid #9e9e9e":"2.5px solid ".concat(L.x[i]))},onClick:()=>s(i,t),className:"flex items-center gap-0.5 border border-solid px-3 py-1 text-sm ".concat(a===i?"rounded-md border-gray-500 bg-primary-green pl-2.5 text-black ":"rounded-b-md border-gray-200 bg-white text-gray-500 hover:border-gray-400 hover:bg-gray-100 md:hover:border-gray-300 md:hover:text-gray-700"),children:[a===i&&(0,n.jsx)(P.default,{icon:"material-symbols:location-on-rounded",className:"mb-0.5 text-sm"}),(0,G.L)(v,i+1,"ddd Do")]},i)},i))})})]})})}function q(e){let{trip:t,pathname:i}=e,{mapContainer:a,showMap:d,mapLoaded:c}=(0,A.useMapbox)(),{sightDetail:u}=(0,I.useSightDetail)(),v=(0,o.useSearchParams)();v.get("destination");let m=i.includes(F.B.PUBLIC_TRIPS),h=i.includes(F.I.NOMAD);return(0,n.jsxs)("div",{className:"relative flex h-full w-full flex-row-reverse",children:[m||h?(0,n.jsx)(E,{trip:t}):(0,n.jsx)(Z,{}),(null==u?void 0:u.data)&&(0,n.jsx)(C,{trip:t}),(0,n.jsx)("div",{className:"fixed bottom-4 left-0 right-0 z-[90] flex justify-center lg:hidden",children:(0,n.jsxs)("button",{className:"flex w-fit items-center gap-2 rounded-full bg-black px-3 py-2 text-white shadow-md",onClick:()=>d(!1),children:[(0,n.jsx)(r.G,{icon:l.WA2}),(0,n.jsx)("span",{className:"whitespace-nowrap text-sm",children:"Exit map"})]})}),(0,n.jsx)("div",{ref:a,className:"h-full w-full ".concat(c?"":"flex items-center justify-center"),children:!c&&(0,n.jsx)(s,{})})]})}function V(e){let{onClick:t,placeInfo:i,activity:l,children:r}=e;return(0,n.jsx)(d.E.div,{whileHover:{scale:1.2},onClick:()=>{t(i)},children:r})}function H(e){var t,i,l,r,o,a,s,d,c,v,m;let{placeInfo:h,activityIdx:p,dayIdx:x,onClick:g,activity:f}=e,b=null!==(a=null!==(o=null==h?void 0:null===(t=h.photos)||void 0===t?void 0:t[0])&&void 0!==o?o:null==h?void 0:null===(l=h.photos)||void 0===l?void 0:null===(i=l.photo_urls)||void 0===i?void 0:i["480"])&&void 0!==a?a:null;return(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsxs)("div",{onClick:()=>{g(f,p,x)},className:"relative flex h-[160px] w-[160px] cursor-pointer flex-col items-end justify-end gap-2 rounded-2xl bg-white shadow-xl lg:h-[240px] lg:w-[240px]",children:[(0,n.jsxs)("div",{className:"relative z-30 p-3.5",children:[(0,n.jsx)("h3",{className:"line-clamp-2 text-left text-sm font-bold text-white lg:text-xl",children:null!==(s=null==f?void 0:f.place)&&void 0!==s?s:null==h?void 0:h.name}),(0,n.jsx)("p",{className:"line-clamp-2 text-left text-xs font-medium text-white md:line-clamp-3 lg:text-sm",children:null!==(d=null==f?void 0:f.tips)&&void 0!==d?d:null==h?void 0:h.formatted_address})]}),(0,n.jsx)(u(),{src:null!==(v=null!==(c=null==b?void 0:null===(r=b.url)||void 0===r?void 0:r.replace("original","300x300"))&&void 0!==c?c:null==b?void 0:b.photo_urls["480"])&&void 0!==v?v:"/shared/dummy-image.webp",alt:null!==(m=null==f?void 0:f.place)&&void 0!==m?m:null==h?void 0:h.name,className:"absolute flex h-full w-full flex-col justify-end gap-2 rounded-2xl bg-cover bg-center object-cover text-white",width:300,height:300}),(0,n.jsx)("div",{className:"absolute right-0 top-0 h-full w-full rounded-2xl border-4 border-solid border-white bg-[linear-gradient(180deg,rgba(0,0,0,.4)_0,rgba(0,0,0,.3)+20%,transparent_70%,rgba(0,0,0,.3)_75%,#000)]"})]}),(0,n.jsx)("div",{className:"border-b-none z-[1] mx-auto h-0 w-0 self-center border-8 border-solid border-transparent border-t-white"})]})}},54533:function(e,t,i){i.r(t);var n=i(57437),l=i(16691),r=i.n(l),o=i(61396),a=i.n(o),s=i(24033),d=i(81663),c=i(28638);let u={getyourguide:"Tours & Activities",tiqets:"Tours & Tickets",klook:"Klook",car_rental:"Rent a car",viator:"Viator Tours"};t.default=e=>{var t,i,l,o;let{location:v,trip:m,destinationIdx:h}=e,p=(0,s.usePathname)(),x=null!==(o=null==m?void 0:null===(i=m.destinations[h])||void 0===i?void 0:null===(t=i.destination)||void 0===t?void 0:t.affiliates)&&void 0!==o?o:{},g=(null==m?void 0:null===(l=m.destinations)||void 0===l?void 0:l.length)>1,f=p.includes("/public-trips/");return(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"flex flex-wrap items-center gap-1 md:gap-1 lg:flex-nowrap",children:Object.entries(x).filter(e=>d.m2[e[0]]&&"others"!==e[0]&&"car_rental"!==e[0]&&"tiqets"!==e[0]&&e[1]).map(e=>{let[t,i]=e,l="".concat(f?"public-trips-":g?"multidestination-":"").concat(t).concat(g?"-per-destination":"");return(0,n.jsxs)(a(),{href:i.toString(),target:"_blank",rel:"noreferrer",onClick:()=>{(0,c.lV)(l,m,v,h)},className:"flex w-fit cursor-pointer items-center gap-2 rounded-lg border border-solid border-gray-200 bg-white px-2.5 py-1.5 text-gray-600 transition-colors hover:border-gray-300 hover:text-gray-700",children:[(0,n.jsx)(r(),{src:"".concat(d.R9[t].icon),alt:"",className:"".concat("getyourguide"===t?"h-4 w-3":"h-4 w-5"," object-cover"),width:100,height:100}),(0,n.jsx)("p",{className:"line-clamp-1 overflow-clip whitespace-nowrap text-xs md:text-sm",children:u[t]})]},i.toString())})})})}},24683:function(e,t,i){i.r(t),i.d(t,{default:function(){return G}});var n=i(57437),l=i(72759),r=i(80504),o=i(210),a=i(16691),s=i.n(a),d=i(61396),c=i.n(d),u=i(22635),v=i(2265);i(15231),i(470);var m=i(31162),h=(0,m.$)("a089ff51b4145d261866dfcc7e2490f4d4cc5bd0"),p=i(86152),x=i(82139),g=i(66035),f=i(28638);function b(e){let{visible:t}=e,{trip:i}=(0,p.useTrip)(),{data:o}=(0,u.kP)(),{setShowClaimTripModal:a}=(0,g.t)(),{currency:s}=(0,x.Z)(i),[d,c]=(0,v.useState)(!1),m=function(e){var t,i,n;let l=null!==(t=null==e?void 0:e.destinations)&&void 0!==t?t:[];for(let e=0;e<(null==l?void 0:l.length);e++){let t=null===(i=l[e])||void 0===i?void 0:i.itinerary;for(let e=0;e<(null==t?void 0:t.result.length);e++){let i=null==t?void 0:t.result[e];if((null==i?void 0:null===(n=i.activities)||void 0===n?void 0:n.length)>0)return!0}}return!1}(i);return(0,n.jsx)("div",{className:m?"":"hidden",children:(0,n.jsx)("button",{onClick:()=>{if(!o)return a(!0);c(!0),h(null==i?void 0:i.id,s).then(e=>{(null==e?void 0:e.url)&&(window.open(e.url,"_blank"),(0,f.Be)(i))}).finally(()=>{c(!1)})},disabled:!i||d,className:"".concat(t?"border-gray-300 bg-white text-blue-gray-800 md:hover:border-gray-400":"border-transparent bg-white/25 text-white md:hover:bg-white/40"," flex h-8 w-8 items-center justify-center rounded-full border border-solid transition-colors md:h-9 md:w-9"),children:d?(0,n.jsx)(r.G,{icon:l.LM3,className:"animate-spin"}):(0,n.jsx)(r.G,{icon:l.gSj,className:"text-sm"})})})}var y=i(62),w=i(97188),j=i(65320),N=i(21412),S=i.n(N),T=i(68937),k=i(63502);function I(e){let{trip:t,destinationTitle:i,visible:o}=e,{data:a}=(0,u.kP)(),{setShowClaimTripModal:s}=(0,g.t)(),[d,c]=(0,v.useState)(!1),[m,h]=(0,v.useState)(!1),p="".concat(window.location.origin,"/trips/").concat(null==t?void 0:t.id),x="I just created my personalized trip plan to ".concat(i," using Tripplanner AI \uD83E\uDD16%0A%0ACheck it out here: ").concat(p),b="I just created my personalized trip plan to ".concat(i," using Tripplanner AI \uD83E\uDD16%0A%0ACheck it out here: ").concat(p," @tripplannerai"),N=e=>{(null==t?void 0:t.id)&&(0,f.W_)(t,e)};(0,v.useEffect)(()=>{m&&setTimeout(()=>{h(!1)},3e3)},[m]);let I=e=>{let t="";"Twitter"===e?t="https://twitter.com/intent/tweet?text=".concat(b):"Whatsapp"===e?t="https://api.whatsapp.com/send?text=".concat(x):"Email"===e&&(t="mailto:you@email.com%20?subject=My trip to ".concat(i," ✈️&body=").concat(x)),window.open(t,"_blank"),N(e)};return(0,n.jsx)(k.Z,{openPopover:d,setOpenPopover:e=>{a?c(e):s(!0)},align:"end",trigger:(0,n.jsxs)("button",{disabled:!t,className:"".concat(o?"border-gray-300 bg-white text-blue-gray-800 md:hover:border-gray-400":"border-transparent bg-white/25 text-white md:hover:bg-white/40"," flex h-8 items-center justify-center rounded-full border border-solid px-3 transition-colors md:h-9"),children:[(0,n.jsx)(T.default,{icon:"ph:share-fat-fill",className:"text-base"}),(0,n.jsx)("span",{className:"ml-1 text-sm",children:"Share"})]}),children:(0,n.jsxs)("div",{className:"max-w-[400px] px-4 md:px-5 ".concat(S().className," py-7 md:py-5"),children:[(0,n.jsxs)("div",{className:"mb-1 flex flex-col gap-2",children:[(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)("h3",{className:"w-full text-start text-xl font-bold leading-6 text-gray-900 md:text-start",children:"Share your trip"})}),(0,n.jsx)("div",{className:"flex flex-col-reverse gap-2",children:(0,n.jsx)("p",{className:"m:text-center my-2 w-full max-w-none text-start text-base md:my-0",children:"Excited about your upcoming trip? Share the adventure with your friends!"})})]}),(0,n.jsxs)("div",{className:"mt-2 flex items-center gap-3 md:mt-4",children:[(0,n.jsxs)("button",{type:"button",className:"flex w-fit items-center justify-center gap-1 rounded-md bg-black px-6 py-2 text-center text-white hover:bg-gray-900",onClick:()=>{h(!0),navigator.clipboard.writeText("".concat(p)),N("Copy Link")},children:[(0,n.jsx)(r.G,{icon:m?w.fV7:l.nNP,className:"w-auto text-[12px] md:text-base"}),(0,n.jsx)("p",{className:"text-base",children:m?"Link Copied":"Copy link"})]}),(0,n.jsxs)("div",{className:"flex flex-1 gap-2 text-lg",children:[(0,n.jsx)(j.E.a,{whileHover:{scale:1.1},className:"grid h-7 w-7 cursor-pointer place-items-center rounded-full bg-gray-100 p-1 text-gray-400 hover:bg-gray-200 hover:text-gray-600 md:h-9 md:w-9",onClick:()=>I("Twitter"),children:(0,n.jsx)(r.G,{icon:y.mdU})}),(0,n.jsx)(j.E.a,{whileHover:{scale:1.1},className:"grid h-7 w-7 cursor-pointer place-items-center rounded-full bg-gray-100 p-1 text-gray-400 hover:bg-gray-200 hover:text-gray-600 md:h-9 md:w-9",onClick:()=>I("Whatsapp"),children:(0,n.jsx)(r.G,{icon:y.VHX})}),(0,n.jsx)(j.E.a,{whileHover:{scale:1.1},className:"grid h-7 w-7 cursor-pointer place-items-center rounded-full bg-gray-100 p-1 text-gray-400 hover:bg-gray-200 hover:text-gray-600 md:h-9 md:w-9",onClick:()=>I("Email"),children:(0,n.jsx)(r.G,{icon:l.FU$})})]})]})]})})}var _=(0,m.$)("9ba23678b174f7844aef79cf82f0b32fbdb03d5b");(0,m.$)("7ea5754d649299b515d7231b4292aa4d724168a5"),(0,m.$)("bd7ed47ef8584383dfb63e29bace67f048ddff7b");var C=i(24033),D=i(377),A=i(71157),E=i(49261);function P(){let{trip:e}=(0,p.useTrip)(),{removeTrip:t}=(0,E.B)(),i=(0,C.useRouter)(),[o,a]=(0,v.useState)(!1);return(0,n.jsx)("button",{onClick:()=>{t(e.id),a(!0),(0,D.I)(null==e?void 0:e.id,localStorage.getItem("temporalId")).then(()=>{(0,f.nq)(e),i.replace("/".concat(A.I.TRIPS))}).finally(()=>a(!1))},disabled:o,className:"grid w-full place-items-center items-center gap-2 rounded-lg border border-solid border-red-300 bg-red-100/50 py-1.5 text-red-400 hover:bg-red-100/80 hover:text-red-400 hover:underline",children:o?(0,n.jsx)(r.G,{icon:l.LM3,className:"my-1 animate-spin"}):(0,n.jsx)("p",{children:"Delete trip"})})}var O=i(1911),M=i(46273),R=i(78255);function L(e){let{visible:t}=e,{trip:i}=(0,p.useTrip)(),[o,a,s]=(0,O.Z)(!1),[d,u]=(0,v.useState)(""),[m,h]=(0,v.useState)(""),[x,g]=(0,v.useState)(!1),[f,b]=(0,v.useState)(!1),[y,w]=(0,v.useState)(""),[j,N]=(0,v.useState)(""),[S,k]=(0,v.useState)((null==i?void 0:i.visibility)==="public");(0,v.useEffect)(()=>{o&&S&&I()},[o]);let I=()=>{b(!0),_(i.id).then(e=>{let t=e?e.en:{};u(t.title),h(t.description),w(t.title),N(t.description)}).finally(()=>{b(!1)})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(M.Z,{open:o,closeModal:s,children:(0,n.jsxs)("div",{className:"w-full md:w-auto",children:[(0,n.jsx)("h2",{className:"-my-1.5 text-start text-lg",children:S?"Trip Settings":"Delete Trip"}),(0,n.jsxs)("div",{className:"mt-12 w-full md:w-[25rem]",children:[S&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h3",{className:"text-lg font-medium",children:"Visibility"}),(0,n.jsxs)(c(),{href:"/".concat(A.B.PUBLIC_TRIPS,"/").concat(null==i?void 0:i.id),onClick:()=>{(0,R.FP)(i)},className:"flex items-center gap-2 rounded-lg border border-solid border-gray-200 px-3 py-1.5 text-sm text-gray-600 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-800",children:[(0,n.jsx)(r.G,{icon:l.Mdf}),"View public version"]})]}),(0,n.jsx)("div",{className:"my-4 border-b border-solid border-blue-gray-50"})]}),!S&&(0,n.jsx)("p",{className:"text-sm",children:"This action is irreversible"}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)(P,{})})]})]})}),(0,n.jsx)("button",{onClick:()=>{a(),(0,R.W3)(i)},className:"flex transform items-center justify-center ".concat(t?"text-gray-800":"text-white/90"," ").concat(S?"transition-transform duration-500 ease-in-out hover:rotate-[90deg]":t?"rounded-full p-1.5 hover:bg-gray-100":"rounded-full p-1.5 hover:bg-white/25"),children:S?(0,n.jsx)(r.G,{icon:l.gr5,className:"p-1 text-xl"}):(0,n.jsx)(T.default,{icon:"tabler:trash-x-filled",className:"text-xl"})})]})}var F=i(42075);function G(){var e,t,i,a,d,m,h,x;let{trip:g,canEditTrip:f,isTripOwner:y,currentDestinationIdx:w,isNoAuthOwner:j}=(0,p.useTrip)(),{data:N}=(0,u.kP)(),{width:S}=(0,F.Z)(),T=S<768,[k,_]=(0,v.useState)(!1),C=()=>{let e=window.scrollY;_(e>0)};(0,v.useEffect)(()=>(window.addEventListener("scroll",C),()=>window.removeEventListener("scroll",C)),[k]);let D=g.user.display_name.split(" ")[0],E=(null==g?void 0:null===(t=g.user)||void 0===t?void 0:null===(e=t.display_name)||void 0===e?void 0:e.length)>0?"".concat(D).concat(D.endsWith("s")?"'":"'s"):"A user's";return(0,n.jsxs)("header",{className:"fixed top-0 z-50 flex min-h-[65px] w-full items-center justify-between gap-3 border-b border-solid px-4 py-3.5 transition-all md:px-12 md:py-3 lg:w-[52%] ".concat(k?"border-gray-200 bg-white":"border-transparent"),children:[(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,n.jsx)(c(),{href:"/".concat(A.I.TRIPS),className:"rounded-md px-2 py-1 text-base  ".concat(k?"bg-gray-100 text-black hover:bg-gray-200":"bg-white/20 text-white hover:bg-white/50"),children:(0,n.jsx)(r.G,{icon:l.acZ,className:"-my-0.5 text-base"})}),(0,n.jsx)(c(),{className:"",href:"/".concat(A.I.TRIPS),children:(0,n.jsxs)("div",{className:"flex items-center gap-2 ",children:[(0,n.jsx)(s(),{src:k?"/logo/logo2.webp":"/logo/logo2-white.webp",alt:"Trip Plan Logo",width:27,height:27}),(0,n.jsx)("h2",{className:"hidden whitespace-nowrap text-lg font-medium md:block  ".concat(k?"text-black":"text-white"),children:"Trip Planner AI"})]})})]})}),g?(0,n.jsxs)("div",{className:"flex h-fit items-center gap-2",children:[f&&(0,n.jsx)(b,{visible:k}),(0,n.jsx)(I,{visible:k,trip:g,destinationTitle:null===(a=g.destinations[w])||void 0===a?void 0:null===(i=a.destination)||void 0===i?void 0:i.city}),y&&(0,n.jsx)(L,{visible:k}),!y&&!j&&(0,n.jsxs)("span",{className:"w-fit rounded-full px-3.5 py-1 text-sm ".concat(k?"bg-gray-200":"bg-white/90 text-black"),children:[E," trip"]})]}):(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("p",{className:"text-[14px] md:text-base ".concat(k?"text-gray-500":"text-white"),children:null==g?void 0:null===(d=g.user)||void 0===d?void 0:d.display_name}),(0,n.jsx)(o.Z,{src:(null==g?void 0:null===(m=g.user)||void 0===m?void 0:m.photo_url)||"",alt:(null==g?void 0:null===(x=g.user)||void 0===x?void 0:null===(h=x.display_name)||void 0===h?void 0:h.toUpperCase())||"",sx:{width:T?25:30,height:T?25:30}})]})]})}},13926:function(e,t,i){i.d(t,{Z:function(){return x}});var n=i(57437),l=i(36012),r=i(64174),o=i(96036),a=i(16691),s=i.n(a),d=i(61396),c=i.n(d),u=i(68937),v=i(8672),m=i(91910),h=i(28638);function p(e){var t;let{trip:i,tour:l,tourIdx:a,destinationIdx:d,fromActivityReservationOptions:p}=e,x=(0,v.D6)(),g=(null==l?void 0:l.platform)==="getyourguide"||(null==l?void 0:l.url.includes("getyourguide"))?"/landing/images/partners/landing-getyourguide-2.png":(null==l?void 0:l.platform)==="viator"||(null==l?void 0:l.url.includes("viator"))?"/landing/images/partners/landing-viator.png":"/landing/images/partners/landing-tiqets.svg";return(0,n.jsxs)(c(),{href:null!==(t=null==l?void 0:l.url)&&void 0!==t?t:"",target:"_blank",rel:"noreferrer",className:"group relative mb-4 flex min-h-[280px] flex-shrink-0 cursor-pointer flex-col rounded-md border py-2 transition-all ".concat(p?"":"w-full "),onClick:()=>{(0,m.n)(i,d,l),(0,h.bA)(i,a,l.rating,l.rating_count,d)},children:[x&&(0,n.jsx)("div",{className:"absolute left-2 top-4 flex items-center gap-2 rounded-md bg-white px-1 text-sm",children:(0,n.jsx)(s(),{src:g,alt:g,width:400,height:400,className:"".concat((null==l?void 0:l.platform)==="getyourguide"||(null==l?void 0:l.url.includes("getyourguide"))?"h-[1.2rem]":"h-[1.4rem]"," w-auto object-cover p-1")})}),(0,n.jsx)(s(),{src:null==l?void 0:l.pictures[0],alt:null==l?void 0:l.title,width:200,height:200,className:"mb-2 h-36 w-full rounded-md object-cover"}),(0,n.jsx)("span",{className:"".concat(p?"line-clamp-1":"line-clamp-2"," font-medium hover:underline"),children:null==l?void 0:l.title}),(0,n.jsxs)("div",{className:"mt-auto w-full",children:[p&&(0,n.jsx)("span",{className:"mb-1 line-clamp-2 text-sm text-gray-600",children:null==l?void 0:l.abstract}),(0,n.jsxs)("div",{className:"mb-2 flex flex-nowrap items-center gap-1",children:[(0,n.jsx)(o.Z,{name:"rating",size:"small",value:null==l?void 0:l.rating,readOnly:!0,precision:.5,emptyIcon:(0,n.jsx)(r.Z,{style:{opacity:.4},fontSize:"inherit"})}),(0,n.jsxs)("p",{className:"truncate",children:[(0,n.jsx)("span",{className:"text-sm",children:null==l?void 0:l.rating.toFixed(1)})," ",(0,n.jsxs)("span",{className:"text-xs text-gray-400 md:text-sm",children:[null==l?void 0:l.rating_count," reviews"]})]})]}),(0,n.jsxs)("button",{className:"flex h-fit w-full items-center justify-center gap-1 rounded-lg bg-accent-green px-2 py-1.5 text-sm text-white transition-all hover:bg-accent-green-2 hover:underline",children:["Book now",(0,n.jsx)(u.default,{icon:"material-symbols:arrow-outward-rounded"})]})]})]})}function x(e){let{trip:t,tourList:i,reservationOptions:r}=e;return(0,n.jsx)(l.tv,{options:{rewind:!0,gap:20,perPage:3,arrows:!1,width:"100%",drag:"free",pagination:!0,breakpoints:{720:{gap:12,perPage:2}}},"aria-label":"Tours",children:i.map((e,i)=>{var o,a;return e?(0,n.jsx)(l.jw,{children:(0,n.jsx)(p,{trip:t,tour:e,tourIdx:i,fromActivityReservationOptions:!!r},null!==(o=null==e?void 0:e.id)&&void 0!==o?o:"tour-".concat(i))},null!==(a=null==e?void 0:e.id)&&void 0!==a?a:"tour-".concat(i)):null})})}},40108:function(e,t,i){i.r(t),i.d(t,{default:function(){return d},useItinerary:function(){return s}});var n=i(57437),l=i(2265),r=i(86152),o=i(28638);let a=(0,l.createContext)(void 0),s=()=>{let e=(0,l.useContext)(a);if(!e)throw Error("useItinerary must be used within a ItineraryProvider");return e};function d(e){let{children:t}=e,{trip:i}=(0,r.useTrip)(),[s,d]=(0,l.useState)(null),[c,u]=(0,l.useState)(null),[v,m]=(0,l.useState)(null),[h,p]=(0,l.useState)(null),[x,g]=(0,l.useState)([]),[f,b]=(0,l.useState)(""),[y,w]=(0,l.useState)(!1),[j,N]=(0,l.useState)([]);return(0,n.jsx)(a.Provider,{value:{dayExpanded:s,destinationIdxExpanded:c,activityExpanded:v,setActivityExpanded:m,autocompleteIdx:h,setAutocompleteIdx:p,setDayExpanded:(e,t)=>{s!==e||c!==t?(d(e),u(t),(0,o.HX)(i,e+1,t)):(d(null),u(null))},setConversations:g,conversations:x,openConversation:f,setOpenConversation:b,allMessagesLoaded:y,setAllMessagesLoaded:w,tripHotelsSelected:j,setTripHotelsSelected:N},children:t})}},41380:function(e,t,i){i.r(t),i.d(t,{default:function(){return c},useMapbox:function(){return d}});var n=i(57437),l=i(73901),r=i.n(l),o=i(2265);let a=(0,o.createContext)(void 0);r().accessToken="pk.eyJ1IjoiY2hsb2UtamUzIiwiYSI6ImNsaDlnYXlyOTA3NW4zbm9paTRwdWExZjAifQ.50ntJFyTUn1WAYcKZAzZTA";class s{onAdd(e){return this._map=e,this._container.addEventListener("contextmenu",e=>e.preventDefault()),this._container.addEventListener("click",()=>this.onClick()),this._container.className="mapboxgl-ctrl",this._container.innerHTML='<div class="p-2 rounded-full bg-[#ffffffb8]"><svg class="text-lg" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M256 0c17.7 0 32 14.3 32 32V66.7C368.4 80.1 431.9 143.6 445.3 224H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H445.3C431.9 368.4 368.4 431.9 288 445.3V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V445.3C143.6 431.9 80.1 368.4 66.7 288H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H66.7C80.1 143.6 143.6 80.1 224 66.7V32c0-17.7 14.3-32 32-32zM128 256a128 128 0 1 0 256 0 128 128 0 1 0 -256 0zm128-80a80 80 0 1 1 0 160 80 80 0 1 1 0-160z"/></svg></div>',this._container}onClick(){var e;this._map.flyTo({center:this._center,essential:!0,speed:1.5,screenSpeed:1.5,zoom:null!==(e=this._zoom)&&void 0!==e?e:11})}setCenter(e,t){this._center=e,this._zoom=t}onRemove(){this._container.parentNode&&(this._container.parentNode.removeChild(this._container),this._map=void 0)}constructor(e,t){this._center=e,this._container=document.createElement("button"),this._zoom=t}}let d=()=>{let e=(0,o.useContext)(a);if(!e)throw Error("useMapbox must be used within a MapboxProvider");return e};var c=e=>{let{children:t,data:i}=e;(0,o.useEffect)(()=>{let e=document.createElement("script"),t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css",document.head.appendChild(t),e.src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js",e.async=!0,document.head.appendChild(e),()=>{document.head.removeChild(e),document.head.removeChild(t)}},[]);let[l,d]=(0,o.useState)(!1),[c,u]=(0,o.useState)(!1),v=(0,o.useRef)(),m=(0,o.useRef)(null),h=(0,o.useRef)(null),{center:p}=i;return(0,o.useEffect)(()=>{var e,t,n,l;(null==i?void 0:i.center)&&(null==i?void 0:i.center[0])&&(m.current||(m.current=new(r()).Map({container:v.current,style:"mapbox://styles/chloe-je3/clhpf5r5r01g101p6a3lmescr",zoom:null!==(e=null==i?void 0:i.zoom)&&void 0!==e?e:11,center:p}),u(!0)),c||(h.current||(h.current=new s(p,null!==(n=null==i?void 0:i.zoom)&&void 0!==n?n:11),null===(t=m.current)||void 0===t||t.addControl(h.current,"bottom-right")),m.current.setCenter(p),h.current.setCenter(p,null!==(l=null==i?void 0:i.zoom)&&void 0!==l?l:11)))},[i]),(0,n.jsx)(a.Provider,{value:{map:m,mapContainer:v,moveMapToLocation:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=!(arguments.length>3)||void 0===arguments[3]||arguments[3];if(!m.current)return;let l={center:[e[0],e[1]],essential:t,animate:n};i&&(l.zoom=i),m.current.flyTo(l)},centerMap:()=>{m.current&&h.current.onClick([p[1],p[0]])},mapLoaded:c,isOpenMap:l,showMap:d},children:t})}},38192:function(e,t,i){i.r(t),i.d(t,{useMarkers:function(){return a}});var n=i(57437),l=i(2265),r=i(41380);let o=(0,l.createContext)(void 0),a=()=>{let e=(0,l.useContext)(o);if(!e)throw Error("useMarkers must be used within a MarkersProvider");return e};t.default=e=>{let{children:t}=e,{map:i}=(0,r.useMapbox)(),[a,s]=l.useReducer((e,t)=>({...e,...t}),{}),d=e=>a[e],c=e=>{let t=d(e);t&&Object.entries(t).forEach(e=>{let[t,i]=e;i.getPopup().isOpen()&&i.togglePopup()})};return(0,n.jsx)(o.Provider,{value:{markers:a,openPopupMarker:(e,t)=>{c(e);let i=d(e);if(!i)return;let n=i[t];n&&n.togglePopup()},addMarkers:e=>s(e),addMarkerToMap:(e,t)=>{let n=d(e);if(!n)return;let l=n[t];l&&l.addTo(null==i?void 0:i.current)},addMarkersToMap:e=>{let t=d(e);t&&Object.entries(t).forEach(e=>{let[t,n]=e;n.addTo(null==i?void 0:i.current)})},removeMarkers:e=>{let{[e]:t,...i}=a;s(i)},updateMarkers:e=>s(e),removeMarkersFromMap:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(e=>{let t=d(e);t&&Object.entries(t).forEach(e=>{let[t,i]=e;i.remove()})})},getMarkers:d,closePopups:c},children:t})}},231:function(e,t,i){i.r(t),i.d(t,{default:function(){return a},useSightDetail:function(){return o}});var n=i(57437),l=i(2265);let r=(0,l.createContext)(void 0),o=()=>{let e=(0,l.useContext)(r);if(!e)throw Error("useSightDetail must be used within a SightDetailProvider");return e};function a(e){let{children:t}=e,[i,o]=(0,l.useState)({data:null,dayIdx:null,activityIdx:"",destinationIdx:null});return(0,n.jsx)(r.Provider,{value:{sightDetail:i,setSightDetail:o},children:t})}},86152:function(e,t,i){i.r(t),i.d(t,{default:function(){return h},useTrip:function(){return m}});var n=i(57437),l=i(24033),r=i(22635),o=i(2265);i(15231),i(470);var a=(0,i(31162).$)("f0816e2899f7e413d7a59429d886aa196c04c79d"),s=i(73710),d=i(2521),c=i(1911),u=i(86222);let v=(0,o.createContext)(void 0),m=()=>{let e=(0,o.useContext)(v);if(!e)throw Error("useTrip must be used within a TripProvider");return e};function h(e){var t,i,m,h,p,x;let{children:g,tripId:f}=e,{data:b}=(0,r.kP)(),y=(0,l.useSearchParams)(),[w,j]=(0,o.useState)(null),[N,S]=(0,o.useState)("idle"),[T,k]=(0,o.useState)(null),[I,_]=(0,o.useState)(!1),[C,D]=(0,o.useState)(!1),A=(0,o.useRef)(!1),[E,P]=(0,o.useState)(!1),[O,M,R]=(0,c.Z)(!1),[L,F]=(0,o.useState)(0),G=(0,l.usePathname)(),z=(0,l.useRouter)(),Z=y.get("join");(0,d.Z)(()=>{V(!0),Z&&!b&&P(!0)},[]),(0,o.useEffect)(()=>{Z&&b&&q()},[b]);let q=()=>{A.current||(A.current=!0,a(f).then(async()=>{let e=await (0,s.Z)({tripId:f});j(e),S("completed"),(0,u.t7)("Joined as Tripmate",null==e?void 0:e.id,(0,u.iv)(e),L)}).catch(e=>{_(e.message)}).finally(()=>{M(),P(!1);let e=new URLSearchParams(y);e.delete("join"),z.replace("".concat(G,"?").concat(e.toString()))}))},V=e=>{D(e),(0,s.Z)({tripId:f}).then(e=>{j(e),S("completed"),Z&&(0,u.t7)("Opened Tripmate Invite Url",e.id,(0,u.iv)(e),L)}).catch(e=>k(e.message)).finally(()=>{D(!1)})},H=(null==w?void 0:null===(t=w.user)||void 0===t?void 0:t.uid)===(null==b?void 0:null===(i=b.user)||void 0===i?void 0:i.previousUid),B=null==w?void 0:null===(p=w.tripmates)||void 0===p?void 0:null===(h=p.joined)||void 0===h?void 0:h.includes(null!==(x=null==b?void 0:null===(m=b.user)||void 0===m?void 0:m.previousUid)&&void 0!==x?x:""),[U,W]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{W((null==w?void 0:w.uid)===localStorage.getItem("temporalId"))},[w]),(0,n.jsx)(v.Provider,{value:{trip:w,setTrip:j,isTripOwner:H,error:T,tripmateInviteError:I,isATripmate:B,isNoAuthOwner:U,canEditTrip:H||B||U,showSignInMessage:E,isInvitedAccepted:O,closeInvitedAccepted:R,isLoading:C,currentDestinationIdx:L,changeDestinationIdxParam:e=>{let t=new URLSearchParams(y);t.set("destination",e.toString()),z.replace("".concat(G,"?").concat(t.toString()))},setCurrentDestinationIdx:F,tripStatus:N},children:g})}},81663:function(e,t,i){i.d(t,{R9:function(){return l},jV:function(){return r},m2:function(){return n}});let n={car_rental:{title:"Rent a car",icon:"/landing/images/affiliates/expedia.webp"},tiqets:{title:"Tours & Activities",icon:"/landing/images/affiliates/tiqets.svg"},getyourguide:{title:"Get Your Guide",icon:"/landing/images/partners/landing-getyourguide-2.png"},viator:{title:"Viator",icon:"/landing/images/partners/landing-viator.png"}},l={car_rental:{title:"Rent a car",icon:"/landing/images/affiliates/expedia.webp"},tiqets:{title:"Tours & Activities",icon:"/landing/images/affiliates/tiqets-icon.png"},getyourguide:{title:"Get Your Guide",icon:"/landing/images/affiliates/gyg-icon.png"},viator:{title:"Viator",icon:"/landing/images/affiliates/viator-icon.jpeg"}},r={getyourguide:{label:"Tours & activities"},klook:{label:"Tours & activities"},viator:{label:"Tours & activities"},tiqets:{label:"Tours & activities"},car_rental:{label:"Car Rentals"},safety_wing:{label:"Travel Insurance"},airalo:{label:"Travel Esim"},holafly:{label:"Travel Esim"},tiqets_city_card:{label:"City Card"},freetour:{label:"Free Tours"}}},24268:function(e,t,i){i.d(t,{x:function(){return n}});let n=["#97e865","#fd9374","#ff8bb7","#cc8eff","#7775ef","#5AB0F1","#5af17d","#C8D137","#e5c36c","#ff8484"]},71157:function(e,t,i){var n,l,r,o;i.d(t,{B:function(){return l},I:function(){return n}}),(r=n||(n={})).DELETE_ACCOUNT="delete-account",r.TRIPS="trips",r.CREATE_TRIP="new-trip",r.MEALS="meals",r.HOTEL="hotel",r.HOTELS="hotels",r.SIGHTS="sights",r.EXPLORE_SIGHTS="explore-sights",r.NOMAD="nomad",(o=l||(l={})).LANDING="/",o.TRIPS="trips",o.NEW_TRIP="new-trip",o.PUBLIC_TRIPS="public-trips",o.DESTINATIONS="destinations",o.TERMS_AND_CONDITIONS="terms",o.PRIVACY_POLICY="privacy",o.COOKIES_POLICY="cookies"},99582:function(e,t,i){i.d(t,{J:function(){return n}});let n={id:"",price:0,notes:"",tips:"",time:"",end_time:null,estimated_time:0}},2521:function(e,t,i){i.d(t,{Z:function(){return l}});var n=i(2265);function l(e,t){let i=(0,n.useRef)(!1);(0,n.useEffect)(()=>{if(!i.current)return i.current=!0,e()},t)}},83247:function(e,t,i){var n=i(2265);t.Z=(e,t)=>{let[i,l]=(0,n.useState)(t);return(0,n.useEffect)(()=>{let t=window.localStorage.getItem(e);t&&l("string"==typeof t?t:JSON.parse(t))},[e]),[i,t=>{l(t),window.localStorage.setItem(e,JSON.stringify(t))}]}},1911:function(e,t,i){var n=i(2265);t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,i]=(0,n.useState)(e);return[t,()=>i(!0),()=>i(!1)]}},42075:function(e,t,i){i.d(t,{Z:function(){return l}});var n=i(2265);function l(){var e,t,i,l,r,o,a;let[s,d]=(0,n.useState)(null),[c,u]=(0,n.useState)(null);return(0,n.useEffect)(()=>{u({width:window.innerWidth,height:window.innerHeight});let e=()=>{window.matchMedia("(max-width: 640px)").matches?d("mobile"):window.matchMedia("(min-width: 641px) and (max-width: 1024px)").matches?d("tablet"):d("desktop"),u({width:window.innerWidth,height:window.innerHeight})};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),{device:s,width:null!==(e=null==c?void 0:c.width)&&void 0!==e?e:0,height:null!==(t=null==c?void 0:c.height)&&void 0!==t?t:0,isMobile:"mobile"===s,isTablet:"tablet"===s,isDesktop:"desktop"===s,tailwindMD:(null!==(i=null==c?void 0:c.width)&&void 0!==i?i:0)>=720,tailwindSM:(null!==(l=null==c?void 0:c.width)&&void 0!==l?l:0)>=540,tailwindLG:(null!==(r=null==c?void 0:c.width)&&void 0!==r?r:0)>=1024,tailwindXL:(null!==(o=null==c?void 0:c.width)&&void 0!==o?o:0)>=1280,tailwind2XL:(null!==(a=null==c?void 0:c.width)&&void 0!==a?a:0)>=1536}}},82139:function(e,t,i){var n=i(73710),l=i(86152),r=i(83247),o=i(28638);t.Z=e=>{let{setTrip:t}=(0,l.useTrip)(),[i,a]=(0,r.Z)("plans:".concat(null==e?void 0:e.id,":currency"),"USD"),s=async i=>{a(i);let l=await (0,n.Z)({tripId:e.id,currency:i});t(l),(0,o.WG)(e,i)};return{currency:i,setCurrency:s}}},46273:function(e,t,i){var n=i(57437),l=i(72759),r=i(80504),o=i(16856),a=i(84914),s=i(2265);t.Z=e=>{let{open:t,closeModal:i,showCloseButton:d=!0,children:c,options:u={styles:"w-full md:w-fit md:max-w-lg md:px-4 lg:max-w-lg",bg:"light"}}=e,v=(0,s.useRef)(null);return(0,n.jsx)(o.u.Root,{show:t,as:s.Fragment,children:(0,n.jsxs)(a.V,{as:"div",className:"relative z-[100] rounded-xl",initialFocus:v,onClose:i,children:[(0,n.jsx)(o.u.Child,{as:s.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)("div",{className:"fixed inset-0 hidden ".concat("light"===u.bg?"bg-gray-500":"bg-black"," bg-opacity-75 transition-opacity md:block")})}),(0,n.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,n.jsx)("div",{className:"flex min-h-full items-stretch justify-center text-center md:items-center md:px-2 lg:px-4",children:(0,n.jsx)(o.u.Child,{as:s.Fragment,enter:"ease-out duration-100",leave:"ease-in duration-100",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,n.jsx)(a.V.Panel,{className:"flex transform text-left text-base transition md:my-8 ".concat(u.styles),children:(0,n.jsxs)("div",{className:"relative flex w-full flex-col items-center rounded-none bg-white px-4 pb-8 pt-14 shadow-2xl sm:px-6 md:rounded-lg md:p-6 lg:p-6",children:[d&&(0,n.jsx)("button",{type:"button",className:"absolute right-4 top-4 h-6 w-6 rounded-md bg-gray-100 text-gray-500 hover:bg-gray-200 hover:text-gray-600 md:right-6 md:top-6 lg:right-4 lg:top-4",onClick:i,children:(0,n.jsx)(r.G,{icon:l.g82,className:"text-xs","aria-hidden":"true"})}),c]})})})})})]})})}},34373:function(e,t,i){var n=i(57437),l=i(72759),r=i(80504),o=i(16856),a=i(84914),s=i(2265);t.Z=e=>{let{open:t,closeModal:i,options:d={bg:"bg-[#000000c7]",blur:"backdrop-blur-sm",fullWidth:!1},showCloseButton:c=!0,children:u}=e,v=(0,s.useRef)(null);return(0,n.jsx)(o.u.Root,{show:t,as:s.Fragment,children:(0,n.jsxs)(a.V,{as:"div",className:"relative z-[100] w-full rounded-xl",initialFocus:v,onClose:i,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:[(0,n.jsx)(o.u.Child,{as:s.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)("div",{className:"fixed inset-0 bg-opacity-50 transition-opacity ".concat(null==d?void 0:d.bg," ").concat((null==d?void 0:d.blur)?"backdrop-blur-sm backdrop-filter":"")})}),(0,n.jsxs)("div",{className:"fixed inset-0 z-[100] overflow-y-auto",children:[c&&(0,n.jsx)("button",{onClick:i,className:"text-tp-text absolute right-4 top-4 z-[100] flex h-8 w-8 cursor-pointer items-center justify-center rounded-full bg-gray-100 transition-colors hover:bg-gray-200",children:(0,n.jsx)(r.G,{icon:l.g82})}),(0,n.jsx)("div",{className:"relative z-[100] flex min-h-full items-center justify-center p-1 text-center md:p-4",children:(0,n.jsx)(o.u.Child,{as:s.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,n.jsx)(a.V.Panel,{className:d.fullWidth?"w-full":"",children:u})})})]})]})})}},66035:function(e,t,i){i.d(t,{t:function(){return l}});var n=i(94660);let l=(0,n.Ue)(e=>({claimTripModal:!1,saveTripBanner:!1,setShowSaveTripBanner:t=>{e({saveTripBanner:t})},setShowClaimTripModal:t=>{e({claimTripModal:t})}}))},49261:function(e,t,i){i.d(t,{B:function(){return r}});var n=i(94660),l=i(28014);let r=(0,n.Ue)(e=>({trips:[],loading:!1,error:null,setTrips:t=>{e({trips:t})},fetchTrips:async function(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],i=localStorage.getItem("temporalId");e({loading:t}),e({error:null}),(0,l.X)(i).then(t=>{"error"in t||e({trips:t,loading:!1})}).catch(t=>e({error:t})).finally(()=>{e({loading:!1})})},removeTrip:t=>{e(e=>({trips:e.trips.filter(e=>e.id!==t)}))}}))},94552:function(e,t,i){var n,l,r,o;i.d(t,{K:function(){return l},T:function(){return n}}),(r=n||(n={})).Breakfast="breakfast",r.Lunch="breakfast",r.Dinner="breakfast",r.Hotel="hotel",r.Notes="notes",r.Empty="",(o=l||(l={})).DrivingTraffic="driving-traffic",o.Walking="walking"},86179:function(e,t){var i,n;(n=i||(i={})).RESTAURANTS="restaurants-markers",n.SUGGESTED_HOTELS="suggested-hotels-markers",n.ITINERARY="itinerary-markers",n.SIGHTS="sights-markers",n.HOTELS="hotels-markers",n.NOMAD_DESTINATIONS="nomad-destinations-markers",n.NOMAD_DESTINATION_SIGHTS="nomad-destination-sights-markers",n.NOMAD_DESTINATION_HOTELS="nomad-destination-hotels-markers",n.NOMAD_DEFAULT_DESTINATIONS="nomad-default-destinations-markers",t.Z=i},8672:function(e,t,i){i.d(t,{$d:function(){return d},D6:function(){return l},Ex:function(){return r},GG:function(){return a},R9:function(){return s},TP:function(){return c},eK:function(){return o}});var n=i(5265);let l=()=>(0,n.aS)("trip-detail-affiliate-banners",!1),r=()=>!1,o=()=>!0,a=()=>!1,s=()=>!1,d=()=>!1,c=()=>1},45443:function(e,t,i){i.d(t,{C:function(){return o},L:function(){return r}});var n=i(62067),l=i.n(n);function r(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"dddd, MMMM Do",n=new Date(e);n.setDate(n.getDate()+t);let r=n.getFullYear().toString(),o=(n.getMonth()+1).toString().padStart(2,"0"),a=n.getDate().toString().padStart(2,"0");return l()("".concat(r,"-").concat(o,"-").concat(a)).format(i)}function o(e,t){let i=[],n=l()(e),r=l()(t);for(;n<=r;)i.push(n.format("dddd, MMMM Do")),n=n.clone().add(1,"days");return i}},57924:function(e,t,i){i.d(t,{S:function(){return n}});let n=e=>0===Object.keys(null!=e?e:{}).length},91910:function(e,t,i){i.d(t,{n:function(){return l}});var n=i(86222);let l=(e,t,i)=>{let l=i.url.includes("viator")?"Viator":i.url.includes("getyourguide")?"Get Your Guide":"Tiqets";(0,n.t7)("Affiliate Link Clicked",e.id,(0,n.iv)(e),t,{Platform:l,"Affiliate rating":i.rating,"Affiliate price":i.price})}},86222:function(e,t,i){i.d(t,{Br:function(){return v},a$:function(){return o},iv:function(){return r},rR:function(){return u},t7:function(){return a}});var n=i(97131),l=i.n(n);let r=e=>{var t;return null==e?void 0:null===(t=e.destinations_summary)||void 0===t?void 0:t.map(e=>e.destination)},o=e=>{var t;return null==e?void 0:null===(t=e.destinations_summary)||void 0===t?void 0:t.map(e=>e.days).reduce((e,t)=>e+t,0)},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o={"Trip ID":t,Destination:i.length?i[0]:null,"Destinations Count":i.length,"Destination Idx":n,...r};(i.length?i.slice(1):[]).forEach((e,t)=>{o["Destination ".concat(t+1)]=e}),l().track(e,o)},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a("Timed Page View ".concat(e),t,[])},d=e=>{l().time_event("Timed Page Exit ".concat(e))},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a("Timed Page Exit ".concat(e),t,[])},u=e=>{s(e),d(e)},v=e=>{c(e)}},78255:function(e,t,i){i.d(t,{Dt:function(){return r},FP:function(){return o},KY:function(){return a},W3:function(){return l},y9:function(){return s}});var n=i(86222);let l=e=>{(0,n.t7)("Trip Settings Clicked",null==e?void 0:e.id,(0,n.iv)(e),null)},r=(e,t,i)=>{(0,n.t7)("Public Trip Title Changed",null==e?void 0:e.id,(0,n.iv)(e),null,{"Title Changed":t,"Description Changed":i})},o=e=>{(0,n.t7)("View Public Trip Version",null==e?void 0:e.id,(0,n.iv)(e),null)},a=(e,t)=>{(0,n.t7)("Public trips Search",null,[e],null,{Destination:e,Days:t})},s=e=>{var t;(0,n.t7)("Public Trip Like",null==e?void 0:null===(t=e.trip)||void 0===t?void 0:t.id,(0,n.iv)(null==e?void 0:e.trip),null,{Days:null==e?void 0:e.days})}},28638:function(e,t,i){i.d(t,{$Y:function(){return L},B$:function(){return E},Be:function(){return s},Eq:function(){return O},HX:function(){return v},I8:function(){return f},IV:function(){return D},JF:function(){return k},LH:function(){return y},LK:function(){return R},QL:function(){return b},Qb:function(){return C},Qc:function(){return T},Sk:function(){return c},WG:function(){return r},WK:function(){return j},W_:function(){return d},XO:function(){return F},Xd:function(){return G},Yv:function(){return P},_c:function(){return w},bA:function(){return S},gX:function(){return m},gc:function(){return M},k2:function(){return h},ky:function(){return N},lV:function(){return l},ld:function(){return g},n1:function(){return _},nq:function(){return a},oW:function(){return o},ol:function(){return x},qG:function(){return A},qf:function(){return u},vo:function(){return I},yR:function(){return p}});var n=i(86222);let l=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3?arguments[3]:void 0;(0,n.t7)("Affiliate Opened",null==t?void 0:t.id,(0,n.iv)(t),l,{Source:e,"Page Location":i})},r=(e,t)=>{(0,n.t7)("Currency Changed",null==e?void 0:e.id,(0,n.iv)(e),null,{Currency:t})},o=(e,t)=>{var i,l,r,o;let a=(0,n.iv)(e),s=!1;if(a.length>1){let e=a.filter(e=>null!==e).map(e=>{if(!e)return"";let t=e.split(", ");return t[t.length-1]});s=new Set(e).size>1}(0,n.t7)("New Trip",null==e?void 0:e.id,a,null,{Days:(0,n.a$)(e),"Starting Date":null==e?void 0:null===(l=e.destinations_summary)||void 0===l?void 0:null===(i=l.at(0))||void 0===i?void 0:i.starting_date,"Ending Date":null==e?void 0:null===(o=e.destinations_summary)||void 0===o?void 0:null===(r=o.at((null==e?void 0:e.destinations_summary.length)-1))||void 0===r?void 0:r.end_date,Visibility:null==e?void 0:e.visibility,Budget:t.budget,Comment:t.comment,"Is International":s,People:null==e?void 0:e.people,"Traveling With":null==t?void 0:t.traveling_with,"Special Occasion":(null==t?void 0:t.special_occasion)!=="None"?null==t?void 0:t.special_occasion:null,"First Time Visiting":null==t?void 0:t.first_time_visiting})},a=e=>{(0,n.t7)("Trip Deleted",null==e?void 0:e.id,(0,n.iv)(e))},s=e=>{(0,n.t7)("PDF Export",null==e?void 0:e.id,(0,n.iv)(e))},d=(e,t)=>{(0,n.t7)("Share Trip",null==e?void 0:e.id,(0,n.iv)(e),null,{Social:t})},c=(e,t,i,l)=>{(0,n.t7)("itinerary Location Opened",null==e?void 0:e.id,(0,n.iv)(e),l,{"Day Index":t,"Activity Index":i})},u=(e,t,i,l)=>{(0,n.t7)("itinerary Location Detail Interaction",null==e?void 0:e.id,(0,n.iv)(e),null,{Source:t,"Day Index":i,"Activity Index":l})},v=(e,t,i)=>{(0,n.t7)("Trip Day Expanded",null==e?void 0:e.id,(0,n.iv)(e),i,{Day:t})},m=(e,t,i)=>{(0,n.t7)("Tab Clicked",null==e?void 0:e.id,(0,n.iv)(e),i,{Tab:t})},h=(e,t)=>{(0,n.t7)("Tours & Activities Tab Clicked",null==e?void 0:e.id,(0,n.iv)(e),-1,{Tab:t})},p=(e,t,i)=>{(0,n.t7)("Destination Selector Changed",null==e?void 0:e.id,(0,n.iv)(e),t,{Source:i})},x=(e,t)=>{(0,n.t7)("NPS Score",null==e?void 0:e.id,(0,n.iv)(e),null,{Score:t})},g=(e,t,i)=>{(0,n.t7)("NPS Answers",null==e?void 0:e.id,(0,n.iv)(e),null,{Score:t,Answer:i})},f=(e,t,i,l,r,o)=>{(0,n.t7)("Removed Activity",null==e?void 0:e.id,(0,n.iv)(e),o,{"Day Index":t,"Activity Index":i,"Activity ID":l,Source:r})},b=(e,t,i,l,r)=>{(0,n.t7)("Added Activity",null==e?void 0:e.id,(0,n.iv)(e),r,{"Day Index":t,"Activity ID":i,Source:l})},y=(e,t,i,l,r,o,a,s)=>{(0,n.t7)("Moved Activity",null==e?void 0:e.id,(0,n.iv)(e),s,{"Day Index":t,"Activity Index":i,"Activity ID":l,"New Day Index":r,"New Activity Index":o,Source:a})},w=(e,t,i,l,r,o)=>{(0,n.t7)("Edited Activity",null==e?void 0:e.id,(0,n.iv)(e),o,{"Day Index":t,"Activity Index":i,"Activity ID":l,"Edited Field":r})},j=(e,t,i,l)=>{(0,n.t7)("AI Suggested Sight Clicked",null==e?void 0:e.id,(0,n.iv)(e),l,{"Sight ID":t,"Sight Index":i})},N=(e,t,i,l)=>{(0,n.t7)("AI Suggested Sight Added",null==e?void 0:e.id,(0,n.iv)(e),l,{"Sight ID":t,"Sight Index":i})},S=(e,t,i,l,r)=>{(0,n.t7)("Tour & Tickets Clicked",null==e?void 0:e.id,(0,n.iv)(e),r,{"Item Index":t,"Item Rating":i,"Item Rating Count":l})},T=(e,t,i,l,r,o,a)=>{(0,n.t7)("Changed Dates",null==e?void 0:e.id,(0,n.iv)(e),null,{"Old Starting Date":t,"New Starting Date":i,"Old Ending Date":l,"New Ending Date":r,"Old Days":o,"New Days":a})},k=(e,t,i)=>{(0,n.t7)("Affiliate Deals Tab Item Clicked",null==e?void 0:e.id,(0,n.iv)(e),i,{Platform:t})},I=(e,t,i)=>{(0,n.t7)("Checkout Tickets Button Clicked",null==e?void 0:e.id,(0,n.iv)(e),null,{Days:(0,n.a$)(e),"Tickets Count":t,"Tickets Total":i,People:null==e?void 0:e.people})},_=e=>{(0,n.t7)("Success Checkout Tickets",null==e?void 0:e.id,(0,n.iv)(e),null,{Days:(0,n.a$)(e),People:null==e?void 0:e.people})},C=e=>{(0,n.t7)("Canceled Checkout Tickets",null==e?void 0:e.id,(0,n.iv)(e),null,{Days:(0,n.a$)(e),People:null==e?void 0:e.people})},D=(e,t,i,l)=>{(0,n.t7)("Itinerary Day Optimized",null==e?void 0:e.id,(0,n.iv)(e),l,{"Day Index":t,"Already Optimized":i})},A=(e,t,i)=>{(0,n.t7)("Category Filter Selected",null==e?void 0:e.id,(0,n.iv)(e),i,{"Category Selected":t})},E=(e,t,i,l)=>{(0,n.t7)("Added Note Between Sights",null==e?void 0:e.id,(0,n.iv)(e),l,{"Day Index":t,"Activity Index":i})},P=(e,t,i,l)=>{(0,n.t7)("Add Place Between Sights Click",null==e?void 0:e.id,(0,n.iv)(e),l,{"Day Index":t,"Activity Index":i})},O=(e,t)=>{(0,n.t7)("Directions Between Sights Clicked",null==e?void 0:e.id,(0,n.iv)(e),t)},M=(e,t,i,l)=>{(0,n.t7)("Foodie AI Clicked",null==e?void 0:e.id,(0,n.iv)(e),l,{"Day Index":t,"Activity Index":i})},R=(e,t,i,l,r,o)=>{(0,n.t7)("Food AI Search",null==e?void 0:e.id,(0,n.iv)(e),o,{"Day Index":t,"Activity Index":i,Type:l,"Price Level":r})},L=(e,t,i,l,r,o,a)=>{(0,n.t7)("Food AI Result Chosen",null==e?void 0:e.id,(0,n.iv)(e),a,{"Day Index":t,"Activity Index":i,Type:l,"Price Level":r,"Result Item Index":o})},F=(e,t,i,l,r,o)=>{(0,n.t7)("Activity Times Set",null==e?void 0:e.id,(0,n.iv)(e),o,{"Day Index":t,"Activity Index":i,"Start Time":l,"End Time":r})},G=(e,t)=>{(0,n.t7)("$experiment_started","",[],-1,{"Experiment name":e.key,"Variant name":t.variationId,$source:"growthbook"})}},48519:function(e,t,i){i.d(t,{Z:function(){return r}});var n=i(99582),l=i(94552);function r(e){var t,i,r;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=null!==(i=null==e?void 0:null===(t=e.destinations)||void 0===t?void 0:t.at(o))&&void 0!==i?i:null,s=null==a?void 0:a.itinerary.selected_hotel;if(!e||!s)return null!==(r=null==a?void 0:a.itinerary.result)&&void 0!==r?r:[];{let e=a.itinerary.result,t=[];return e.forEach(e=>{let i=[...e.activities],r={...n.J,id:s.place_id,place:s.name,type:l.T.Hotel,location:s,maps_data:s,reservation_options:{}};i.unshift(r),t.push({...e,activities:i})}),null!=t?t:[]}}},59787:function(e,t,i){i.d(t,{Z:function(){return n}});function n(e,t){var i,n,l;return null!==(l=null===(n=e.destinations[t])||void 0===n?void 0:null===(i=n.destination_str)||void 0===i?void 0:i.split(",")[0])&&void 0!==l?l:""}},67142:function(e,t,i){i.d(t,{Z:function(){return n}});function n(e){var t,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null===(t=(null!==(i=null==e?void 0:e.destinations)&&void 0!==i?i:[])[n])||void 0===t?void 0:t.itinerary.result}},96588:function(e,t,i){i.d(t,{Z:function(){return n}});function n(e){var t,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e&&(null===(t=(null!==(i=e.destinations)&&void 0!==i?i:[])[n])||void 0===t?void 0:t.itinerary.selected_hotel)?e.destinations[n].itinerary.selected_hotel:null}}}]);